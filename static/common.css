/* ===== NLIP Common Styles ===== */
/* This file contains common styles that can be shared across all NLIP page types */

/* ===== Base + Theme Vars ===== */
:root{
  --bg:#fbfafc; --panel:#ffffff; --muted:#f5f2ff; --line:#ece9f6;
  --text:#0f1222; --sub:#6b6e85;
  --brand:#6d28d9; --brand-2:#7c3aed; --chip:#efe9ff;
  --me:#6d28d9; --meText:#ffffff; --bot:#f3f5fb;
  --shadow:0 10px 30px rgba(0,0,0,.08);
  --success:#10b981; --warning:#f59e0b; --error:#ef4444;
}
html[data-theme="dark"]{
  --bg:#0b0c10; --panel:#101218; --muted:#171a23; --line:#242a38;
  --text:#e7e9f2; --sub:#9aa1b9;
  --brand:#8b5cf6; --brand-2:#a78bfa; --chip:#1d1930;
  --me:#8b5cf6; --meText:#0b0814; --bot:#161a23;
  --shadow:0 10px 30px rgba(0,0,0,.45);
  --success:#34d399; --warning:#fbbf24; --error:#f87171;
}

/* ===== Base Reset ===== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font:15px/1.5 "Inter", ui-sans-serif, system-ui, Segoe UI, Roboto, Helvetica, Arial;
}

/* ===== Common Layout Components ===== */
.container{
  max-width:1200px;
  margin:0 auto;
  padding:20px;
}

.header{
  text-align:center;
  margin-bottom:30px;
  padding:20px;
  background:var(--panel);
  border-radius:16px;
  box-shadow:var(--shadow);
}

.header h1{
  margin:0 0 10px;
  font-size:32px;
  color:var(--text);
}

.header p{
  margin:0;
  color:var(--sub);
  font-size:16px;
}

/* ===== Common Form Styles ===== */
.form-container{
  background:var(--panel);
  border-radius:16px;
  padding:24px;
  box-shadow:var(--shadow);
  margin-bottom:20px;
}

.input-group{
  display:flex;
  gap:12px;
  align-items:flex-end;
  margin-bottom:16px;
}

.input-field{
  flex:1;
  padding:12px 16px;
  border:2px solid var(--line);
  border-radius:12px;
  background:var(--panel);
  color:var(--text);
  font-size:15px;
  outline:none;
  transition:border-color 0.2s ease;
}

.input-field:focus{
  border-color:var(--brand);
  box-shadow:0 0 0 3px color-mix(in srgb, var(--brand) 22%, transparent);
}

.file-input{
  display:none;
}

.file-label{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:12px 16px;
  border:2px solid var(--line);
  border-radius:12px;
  background:var(--muted);
  color:var(--text);
  cursor:pointer;
  transition:all 0.2s ease;
}

.file-label:hover{
  border-color:var(--brand);
  background:var(--chip);
}

.btn{
  padding:12px 20px;
  border:none;
  border-radius:12px;
  font-weight:600;
  cursor:pointer;
  transition:all 0.2s ease;
  display:inline-flex;
  align-items:center;
  gap:8px;
}

.btn-primary{
  background:var(--brand);
  color:white;
  box-shadow:var(--shadow);
}

.btn-primary:hover{
  background:var(--brand-2);
  transform:translateY(-1px);
}

.btn-primary:disabled{
  opacity:0.6;
  cursor:not-allowed;
  transform:none;
}

.btn-secondary{
  background:var(--muted);
  color:var(--text);
  border:2px solid var(--line);
}

.btn-secondary:hover{
  border-color:var(--brand);
  background:var(--chip);
}

/* ===== Common Chat Styles ===== */
.chat-container{
  background:var(--panel);
  border-radius:16px;
  box-shadow:var(--shadow);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  height:500px;
}

.chat-box{
  flex:1;
  padding:20px;
  overflow-y:auto;
  background:
    radial-gradient(1100px 480px at 50% -10%, color-mix(in srgb, var(--brand) 7%, transparent), transparent),
    var(--bg);
}

.message-group{
  display:flex;
  gap:12px;
  margin-bottom:16px;
  align-items:flex-start;
  max-width:85%;
}

.message-group.user{
  margin-left:auto;
  flex-direction:row-reverse;
}

.avatar{
  flex:0 0 auto;
  width:32px;
  height:32px;
  border-radius:50%;
  display:grid;
  place-items:center;
  font-size:14px;
  font-weight:700;
  background:var(--muted);
  color:var(--text);
}

.message-group.user .avatar{
  background:var(--brand);
  color:white;
}

.message-bubble{
  padding:14px 18px;
  border-radius:18px;
  word-wrap:break-word;
  white-space:pre-wrap;
  box-shadow:var(--shadow);
  max-width:75%;
  line-height:1.5;
}

.message-group.user .message-bubble{
  background:linear-gradient(135deg, color-mix(in srgb, var(--me) 92%, #ffffff 8%), var(--me));
  color:var(--meText);
  border-top-right-radius:8px;
}

.message-group:not(.user) .message-bubble{
  background:var(--bot);
  color:var(--text);
  border-top-left-radius:8px;
}

/* ===== Structured Content Styles ===== */
.structured-content{
  background:var(--panel);
  border:2px solid var(--line);
  border-radius:12px;
  padding:20px;
  margin:10px 0;
}

.product-table{
  width:100%;
  border-collapse:collapse;
  margin:16px 0;
}

.product-table th,
.product-table td{
  padding:12px 16px;
  text-align:left;
  border-bottom:1px solid var(--line);
}

.product-table th{
  background:var(--muted);
  font-weight:600;
  color:var(--text);
}

.product-table tr:hover{
  background:var(--muted);
}

.product-card{
  display:flex;
  gap:16px;
  padding:16px;
  border:2px solid var(--line);
  border-radius:12px;
  margin:12px 0;
  background:var(--panel);
  transition:border-color 0.2s ease;
}

.product-card:hover{
  border-color:var(--brand);
}

.product-image{
  width:80px;
  height:80px;
  object-fit:cover;
  border-radius:8px;
  background:var(--muted);
}

.product-info{
  flex:1;
}

.product-title{
  font-size:18px;
  font-weight:600;
  margin:0 0 8px;
  color:var(--text);
}

.product-description{
  color:var(--sub);
  margin:0 0 8px;
  line-height:1.4;
}

.product-price{
  font-size:20px;
  font-weight:700;
  color:var(--brand);
  margin:0;
}

/* ===== File Upload Styles ===== */
.file-list{
  list-style:none;
  padding:0;
  margin:16px 0;
}

.file-item{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  background:var(--muted);
  border-radius:8px;
  margin:8px 0;
}

.file-icon{
  width:20px;
  height:20px;
  opacity:0.7;
}

.file-name{
  flex:1;
  color:var(--text);
}

.file-size{
  color:var(--sub);
  font-size:14px;
}

.remove-file{
  background:none;
  border:none;
  color:var(--error);
  cursor:pointer;
  padding:4px;
  border-radius:4px;
}

.remove-file:hover{
  background:color-mix(in srgb, var(--error) 20%, transparent);
}

/* ===== Status Messages ===== */
.status-message{
  padding:12px 16px;
  border-radius:8px;
  margin:12px 0;
  display:flex;
  align-items:center;
  gap:8px;
}

.status-success{
  background:color-mix(in srgb, var(--success) 20%, transparent);
  border:1px solid var(--success);
  color:var(--success);
}

.status-warning{
  background:color-mix(in srgb, var(--warning) 20%, transparent);
  border:1px solid var(--warning);
  color:var(--warning);
}

.status-error{
  background:color-mix(in srgb, var(--error) 20%, transparent);
  border:1px solid var(--error);
  color:var(--error);
}

/* ===== Loading States ===== */
.loading{
  display:inline-flex;
  gap:4px;
  align-items:center;
}

.loading-dot{
  width:6px;
  height:6px;
  border-radius:50%;
  background:var(--sub);
  opacity:0.7;
  animation:bounce 1.2s infinite;
}

.loading-dot:nth-child(2){ animation-delay:0.2s; }
.loading-dot:nth-child(3){ animation-delay:0.4s; }

@keyframes bounce{
  0%, 80%, 100%{ transform:translateY(0); opacity:0.5; }
  40%{ transform:translateY(-4px); opacity:1; }
}

/* ===== Responsive Design ===== */
@media (max-width: 768px){
  .container{
    padding:16px;
  }
  
  .input-group{
    flex-direction:column;
    gap:12px;
  }
  
  .message-group{
    max-width:95%;
  }
  
  .message-bubble{
    max-width:85%;
  }
  
  .product-card{
    flex-direction:column;
    gap:12px;
  }
  
  .product-image{
    width:100%;
    height:200px;
  }
}
